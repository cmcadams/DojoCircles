<!DOCTYPE html>
<html>
<body>
<script src="circle.js"></script>
<script src="superClass.js"></script>
<script src="util.js"></script>
<style>
canvas{
border:1px solid #000000;
background: #d3d3d3;
}
</style>
<h1>Bomberman 0.2</h1>
<br>
Player 1 Health<p id="p1">10</p>
Player 2 Health<p id="p2">10</p>
<canvas id="canvas" height="400" width="400">
<br>
</body>
</html>
<script>

var canvas = document.querySelector("#canvas");
var ctx = canvas.getContext("2d");
var canvasHeight = 400;
var canvasWidth = 400;
var i = 0;

// x, y, r
var p1Circle = new Circle(20, 20 , 40);
// circle, color, speed , direction
var p1SuperCircle = new SuperCircle(p1Circle, "0000ff", 10, 0);
//superCircle,status,health,score
var p1 = new Player(p1SuperCircle,1,3,0, "player1");

var p2Circle = new Circle(380, 380 , 20);
var p2SuperCircle = new SuperCircle(p2Circle, "ff0000", 10, 0);
var p2 = new Player(p2SuperCircle,1,3,0, "player2");

var heartCircle = new Circle(380, 380 , 10);
var heartSuperCircle = new SuperCircle(heartCircle, "ff69b4", 10, 0);
var heart = new NonPlayer(heartSuperCircle, 1, "heart");

var bombCircle = new Circle(380, 380 , 10);
var bombSuperCircle = new SuperCircle(bombCircle, "000000", 10, 0);
var bomb = new NonPlayer(bombSuperCircle, 1, "bomb");

var speedBoostCircle = new Circle(380, 380 , 10);
var speedBoostSuperCircle = new SuperCircle(speedBoostCircle, "00ff00", 10, 0);
var speedBoost = new NonPlayer(speedBoostSuperCircle, 1, "speedBoost");


var npArray = [];

onload=setup();

function setup(){
	npArray.push(heart);
	npArray.push(bomb);
	npArray.push(speedBoost);
	heartSuperCircle.randomisePos();
	bombSuperCircle.randomisePos();
	speedBoostSuperCircle.randomisePos();
	setInterval(function () {
			gameLogic();
	}, 10);
}

function gameLogic(){
	refreshCanvas();
checkCollisions(p1);
checkCollisions(p2);

}


function refreshCanvas(){
	canvas.width = canvas.width;
	p1.draw();
	p2.draw();
for (i = 0; i < npArray.length; i++) { 
	npArray[i].draw();
}
}

document.onkeydown = controller;
</script>
